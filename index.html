<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Google Drive clone</title>
        <!-- Latest Bootstrap CSS -->
        <link
            href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
            rel="stylesheet"
            integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC"
            crossorigin="anonymous">
        <!-- Font Awesome CDN -->
        <link
            href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css"
            rel="stylesheet" />
        <!-- google font -->
        <link rel="stylesheet"
            href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0&icon_names=search" />

        <style>
            /* body  */
            body{
                background-color: #000;
                color: white;
                
            }
            .dark{

                background-color: black;
                color:white;
            }
            .light{
                background-color: white;
                color: #000;

            }
            /* header */
            .logo img{
                /* background-color: #000; */
                height: 50px;
                width: 300px;
                color: #000;
                border-radius: 10px;
                padding: 0px 10px;

            }
            .dropdown-user ul{
                list-style-type: none;
                display: none;
                width: 140px;
                position: absolute;
                right: 25px;
                background-color: #202122;
                padding: 0;
                margin: 0;
                /* border-radius: 10px; */
                top: 50px;
            }
            .user-dropdown:hover .dropdown-user ul{
                display: block;
            }
            .dropdown-user ul li{
                padding: 0px 10px 5px;
                /* background-color: black; */
                margin: 8px 0px;

            }
            .dropdown-user li:hover{
                /* margin: 0px 10px ; */
                background-color: black;
  
            }
            /* header */

            /* main text area */

            .container-fluid{
                display: grid;
                grid-template-columns: 300px auto 50px ;
                height: 92vh;
            }
            /* sidebar content */

           /* add button */
            .sidebar_btn{
                position: relative;
            }
            .dropdown-manu ul{
                cursor: pointer;
                position: absolute;
                display: none;
                background-color: #202122;
                color:white;
                /* border-radius: 10px; */
                box-shadow: 0 4px 10px rgba(245, 235, 235, 0.4);
                list-style-type: none;
                text-align: left;
                padding:0px ;
                margin: 0px;
                /* margin-top: 15px; */
                font-size: 20px;
                width: 250px;
            }
            .dropdown-manu ul li{
                padding: 5px 10px; 
                margin: 5px 0px
            }
            .dropdown-manu li:hover {
                background-color: black;
            }
            
            hr{
                margin: 0px;
            }
            .sidebar_btn:hover .dropdown-manu ul{
            display: block;
            }
            /* add new file popup */
            .overly {
                display: none; /* Hidden by default */
                position: fixed;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                background-color: rgba(0,0,0,0.6);
                justify-content: center;
                align-items: center;
                z-index: 1000;
            }

            .overly.active {
                display: flex;
            }
            

            .overly button{
                height: 40px;
                border-radius: 20px;
                width: 85px;
                font-size: 20px;
                margin-left: 10px;
                background-color: lightgray;
            }
            .file-overly button :hover button{
                background-color: blue;
            }
            /* add new file popup */
            
            
            /* add button */
            /* tabs */
             .sidebar_option :hover{
                background-color: lightgray;
                cursor: pointer;
                color: blue;
            }
            .sidebar_option.active span{
                background-color: blue;
                color: white;
                border-radius: 20px;
            }
            .content {
                display: none;
            }
            .content.active {
                display: block;
            }
            /* tabs */
            .main-content{
                background-color: white;
                color: black;
                /* background-color: #121314; */
                border-radius: 20px;
            }
            .table-head th,
            .table-body td{
                border-bottom: 1px solid;
                padding-top: 10px;
                padding-bottom: 10px;
            }
            .table-body :hover{
                /* background-color: lavender; */
                /* padding: 0px 5px; */
                /* transform: 2000; */
            }
            
            .table-body td i{
                font-size: 20px;
                /* text-align: center; */
            }
            .dropdown-dev{
                position: relative;
                /* background-color: blue; */
            }
            .dropdown-option{
                cursor: pointer;
                position: absolute;
                display: none;
                background-color: #202122;
                color:white;
                right:10px;
                top:30px;
                /* border-radius: 10px; */
                box-shadow: 0 4px 10px rgba(245, 235, 235, 0.4);
            }
            .dropdown-option ul{
                list-style-type: none;
                text-align: left;
                padding:0px ;
                margin: 0px;
                width: 240px;
            }
            .dropdown-option ul li{
                padding: 5px 10px; 
                margin: 5px 0px
            }
            .dropdown-option li:hover {
                background-color: black;
            }
            
            hr{
                margin: 0px;
            }
            .dropdown-option.show {
                 display: block;
            }
            .option {
                cursor: pointer;
            }

            /* open with dropdown */
            .open{
                position: relative;
                /* background-color: blue; */
            }
            .dropdown-sub-option ul{
                cursor: pointer;
                position: absolute;
                display: none;
                background-color: #202122;
                color:white;
                right:240px;
                top:0px;
                /* border-radius: 10px; */
                box-shadow: 0 4px 10px rgba(245, 235, 235, 0.4);            
                list-style-type: none;
                text-align: left;
                padding:0px ;
                margin: 0px;
                width: 240px;
            }
            .dropdown-sub-option ul li{
                padding: 5px 10px; 
                margin: 5px 0px
            }
            .dropdown-sub-option li:hover {
                background-color: black;
            }
            
            hr{
                margin: 0px;
            }
            .open:hover .dropdown-sub-option ul{
                display: block;
            }
        </style>
    </head>
    <body>
        <!-- nev -->
        <nav
            class="d-flex justify-content-between align-items-center px-3 py-2 ">
            <div class="logo d-flex align-items-center me-4 ">
                <img src="images/image.png" alt>
                <!-- <span class="fs-4 m-2 ">Drive</span> -->
            </div>
            <div class="nev-input border rounded-pill px-3 py-1 w-100  "
                style="max-width: 700px; background-color: lightgrey; cursor: pointer;">
                <span class="d-flex align-items-center fs-5">
                    <i class="fa-solid fa-magnifying-glass"></i>
                    <input type="text" placeholder="Search"
                        class="border-0 bg-transparent flex-grow-1 px-3"
                        style="outline: none;">
                    <i class="fa-solid fa-sliders"></i>

                </span>
            </div>
            <div class="nav-icons" style="cursor: pointer;">
                <span
                    class="fs-4 d-flex justify-content-evenly align-items-center"
                    style="width: 150px;">
                    <i class="fa-solid fa-circle-half-stroke" id="mode"></i>
                    <i class="fa-regular fa-circle-check"></i>
                    <i class="fa-solid fa-gear"></i>
                    <div class="user-dropdown position: relative">
                        <i class="user fa-regular fa-circle-user"></i>
                        <div class="dropdown-user ">
                            <ul>
                                <li>Sign in</li>
                                <hr>
                                <li>Sign out</li>
                            </ul>
                        </div>
                    </div>
                </span>
            </div>
        </nav>
        <!-- Sidebar and main content -->
        <div class="container-fluid ">

            <!-- Sidebar (Left) -->
            <div class="Sidebar">
                <div class="d-grid m-2" style="width: 230px;">
                    <div class=" sidebar_btn mb-3 ms-2">
                        <button
                            class=" add_btn text-light bg-primary d-flex align-items-center rounded-pill"
                            style="height: 40px; width: 110px; z-index: 20px;">
                            <span class="ms-2 fs-5">
                                Add New</span>

                        </button>
                        <div class="dropdown-manu">
                            <ul>
                                <li id="addfile"><i
                                        class="fa-regular fa-file"></i> New
                                    File</li>
                                <hr>
                                <li id="uploadBtn"><i
                                        class="fa-regular fa-file"></i> File
                                    Upload</li>
                                <input type="file" id="fileInput"
                                    style="display: none" />

                                <li id="uploadFolderBtn"><i
                                        class="fa-regular fa-folder"></i>
                                    Folder Upload</li>
                                <input type="file" id="folderInput"
                                    webkitdirectory directory
                                    style="display: none" />
                            </ul>

                        </div>
                        <!-- add new popup -->
                        <div class="overly" id="popup">
                            <div
                                class="overly-content bg-light w-25 text-dark p-3 "
                                style="border-radius: 20px;">
                                <h4>Add File</h4>
                                <span>
                                    <input type="text"
                                        id="fileName"
                                        placeholder="Enter file name"
                                        class="w-100 my-4 ps-2"
                                        style="height: 40px;">
                                </span>
                                <div
                                    class="file-overly d-flex justify-content-end">
                                    <button id="cancelBtn">Cencel</button>
                                    <button id="cancelBtn">Create</button>
                                </div>
                            </div>
                        </div>

                    </div>

                    <!-- Sidebar Options -->
                    <div class=" sidebar-content mt-3 mx-2 w-100">
                        <div class="list-group">
                            <div
                                class="  sidebar_option tab active d-flex align-items-center tab ">
                                <span
                                    class=" w-100 fs-5 rounded-pill px-3 py-1 mb-2">
                                    <i
                                        class="fa-solid fa-house me-2 active"></i>Home</span>
                            </div>
                            <div
                                class="sidebar_option tab d-flex align-items-center  ">
                                <span
                                    class=" w-100 fs-5 rounded-pill px-3 py-1 mb-1">
                                    <i
                                        class="fa-solid fa-hard-drive me-2"></i>My
                                    Drive</span>
                            </div>
                            <div
                                class="sidebar_option tab d-flex align-items-center  ">
                                <span
                                    class=" w-100 fs-5 rounded-pill px-3 py-1 mb-2">
                                    <i class="fa-solid fa-users me-2"></i>Shared
                                    with me</span>
                            </div>
                            <div
                                class="sidebar_option tab d-flex align-items-center   ">
                                <span
                                    class=" w-100 fs-5 rounded-pill px-3 py-1 mb-2 ">
                                    <i
                                        class="fa-regular fa-clock me-2"></i>Recent</span>
                            </div>
                            <div
                                class="sidebar_option tab d-flex align-items-center  ">
                                <span
                                    class=" w-100 fs-5 rounded-pill px-3 py-1 mb-2">
                                    <i
                                        class="fa-regular fa-star me-2"></i>Starred</span>
                            </div>
                            <div
                                class="sidebar_option tab d-flex align-items-center  ">
                                <span
                                    class=" w-100 fs-5 rounded-pill px-3 py-1 mb-2">
                                    <i
                                        class="fa-solid fa-trash me-2"></i>Bin</span>
                            </div>
                            <hr>
                            <div
                                class="sidebar_option  d-flex align-items-center  ">
                                <span
                                    class=" w-100 fs-5 rounded-pill px-3 py-1 mb-1">Storage</span>
                            </div>
                        </div>
                    </div>

                    <!-- Progress Bar -->
                    <div class="mt-1 ms-2 ps-3">
                        <span class="d-block fs-6 mb-1">7GB of 15GB
                            used</span>
                        <div class="progress " style="height: 15px;">
                            <div class="progress-bar "
                                role="progressbar"
                                style="width: 45%;"></div>
                        </div>
                    </div>

                </div>
            </div>

            <!-- Main Content (Right) -->
            <div class="main-content mt-2 pt-4 px-3 ">
                <!-- Homepage Section -->
                <div class="content active" data-target="home">
                    <div>
                        <h3>Home</h3>
                    </div>
                    <div class="home-table-data mt-5 ">
                        <table class=" w-100">
                            <thead class="table-head">

                                <th>File Name</th>
                                <th>Reason Suggested</th>
                                <th>Owner</th>
                                <th>Location</th>
                                <th></th>

                            </thead>
                            <tbody class="table-body">
                                <!-- json data -->
                            </tbody>
                           
                            <!-- <div class="dropdown-option">
                                <ul>
                                    <li><i class="fa-solid fa-expand"></i> Open
                                        With <i class="fa-solid fa-caret-right"
                                            style="text-align: end; width: 115px;"></i></li>
                                    <hr>
                                    <li><i class="fa-solid fa-download"></i>
                                        Download</li>
                                    <li><i
                                            class="fa-solid fa-pen-to-square"></i>
                                        Rename</li>
                                    <li><i class="fa-solid fa-copy"></i>
                                        Copy</li>
                                    <hr>
                                    <li><i class="fa-solid fa-star"></i>
                                        Starred</li>
                                    <li><i class="fa-solid fa-share-nodes"></i>
                                        Shareed <i
                                            class="fa-solid fa-caret-right"
                                            style="text-align: end;width: 135px;"></i></li>
                                    <li><i class="fa-solid fa-circle-info"></i>
                                        File Information <i
                                            class="fa-solid fa-caret-right"
                                            style="text-align: end;width: 65px;"></i></li>
                                    <li><i class="fa-solid fa-trash"></i>
                                        Bin</li>
                                </ul>
                            </div> -->

                            
                        </table>
                    </div>
                </div>
                <!-- My Drive Section -->
                <div class="content" data-target="drive">
                    <div>
                        <h3>My Drive</h3>
                    </div>
                    <div class="home-table-data mt-5 ">
                        <table class=" w-100">
                            <thead class="table-head">

                                <th>File Name</th>
                                <th>Owner</th>
                                <th>Date Modified</th>
                                <th>File Size</th>
                                <th></th>

                            </thead>
                            <tbody class="table-body table-body-drive">
                                <!-- json data -->
                            </tbody>
                        </table>
                    </div>
                </div>
                <!-- Shared Section -->
                <div class="content" data-target="shared">
                    <div>
                        <h3>Shareed By Me</h3>
                    </div>
                    <div class="home-table-data mt-5 ">
                        <table class=" w-100">
                            <thead class="table-head">

                                <th>File Name</th>
                                <th>Shared By</th>
                                <th>Date Shared</th>
                                <!-- <th>Location</th> -->
                                <th></th>

                            </thead>
                            <tbody class="table-body table-body-Shared ">
                                <!-- json data -->
                            </tbody>
                        </table>
                    </div>
                </div>
                <!-- Recent Section -->
                <div class="content" data-target="recent">
                    <div>
                        <h3>Recent</h3>
                    </div>
                    <div class="home-table-data mt-5 ">
                        <table class=" w-100">
                            <thead class="table-head">

                                <th>File Name</th>
                                <th>Reason Suggested</th>
                                <th>Owner</th>
                                <th>File Size</th>
                                <th>Location</th>
                                <th></th>

                            </thead>
                            <tbody class="table-body table-body-Recent">
                                <!-- json data -->
                            </tbody>
                        </table>
                    </div>
                </div>
                <!-- Starred Section -->
                <div class="content" data-target="starred">
                    <div>
                        <h3>Starred</h3>
                    </div>
                    <div class="home-table-data mt-5 ">
                        <table class=" w-100">
                            <thead class="table-head">

                                <th>File Name</th>
                                <th>Owner</th>
                                <th>Data Bin</th>
                                <th>File Size</th>
                                <th>Location</th>
                                <th></th>

                            </thead>
                            <tbody class="table-body table-body-Starred">
                                <!-- json data -->
                            </tbody>
                        </table>
                    </div>
                </div>
                <!-- Bin Section -->
                <div class="content" data-target="bin">
                    <div>
                        <h3>Bin</h3>
                    </div>
                    <div class="home-table-data mt-5 ">
                        <table class=" w-100">
                            <thead class="table-head">

                                <th>File Name</th>
                                <th>Reason Suggested</th>
                                <th>Owner</th>
                                <th>Location</th>
                                <th></th>

                            </thead>
                            <tbody class="table-body table-body-Bin">
                                <!-- json data -->
                            </tbody>
                        </table>
                    </div>
                </div>
                <!--Storage  Section -->
                <div class="content" data-target="Storage">
                    <div>
                        <h3>Storage</h3>
                    </div>
                    <div class="home-table-data mt-5 ">
                        <table class=" w-100">
                            <thead class="table-head">

                                <th>File Name</th>
                                <th class="text-align-end">Storage used</th>

                            </thead>
                            <tbody class="table-body table-body-Storage">
                                <!-- json data -->
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
            <div class=" rightbar">

            </div>

        </div>
        <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
        <script>
            const addFileBtn = document.getElementById("addfile");
            const popup = document.getElementById("popup");
            const cancelBtns = popup.querySelectorAll("#cancelBtn");
            const fileNameInput = document.getElementById("fileName");
            const fileTableBody = document.querySelector(".table-body-drive");
            const uploadBtn = document.getElementById("uploadBtn");
            const fileInput = document.getElementById("fileInput");

            const uploadFolderBtn = document.getElementById("uploadFolderBtn");
            const folderInput = document.getElementById("folderInput");

            const tabs = document.querySelectorAll(".tab");
            const contents = document.querySelectorAll(".content");

            // --- Helper: Activate Drive tab ---
            function activateDriveTab() {
                tabs.forEach((t) => t.classList.remove("active"));
                contents.forEach((c) => c.classList.remove("active"));

                // Activate Drive tab
                const driveTab = [...tabs].find((t) =>
                    t.innerText.trim().includes("My Drive")
                );
                const driveContent = document.querySelector('[data-target="drive"]');

                if (driveTab && driveContent) {
                    driveTab.classList.add("active");
                    driveContent.classList.add("active");
                }
            }

            // --- Helper: Add file row ---
            function addFileToDrive(name, owner = "me", size = "-", date = new Date().toLocaleDateString()) {
                const row = document.createElement("tr");
                    row.innerHTML = `
                        <td><i class="fa-solid fa-file"></i> ${name}</td>
                        <td><i class="fa-regular fa-circle-user"></i> ${owner}</td>
                        <td>${date}</td>
                        <td>${size}</td>
                        <td class="dropdown-dev">
                            <i class="fa-solid fa-ellipsis-vertical option"></i>
                            <div class="dropdown-option">
                                <ul>
                                    <li class="open" ><i class="fa-solid fa-expand"></i> Open With <i class="fa-solid fa-caret-right"
                                            style="text-align: end; width: 115px;"></i>
                                        <div class="dropdown-sub-option">
                                            <ul>
                                                <li><i class="fa-regular fa-eye"></i> Preview </li>
                                                <hr>
                                                <li><i class="fa-solid fa-arrow-up-right-from-square"></i> Open in new tab</li>
                                                <li><i class="fa-regular fa-file-lines"></i> Google Docs</li>
                
                                            </ul>
                                        </div>
                                    </li>
                                    <hr>
                                    <li><i class="fa-solid fa-download"></i> Download</li>
                                    <li><i class="fa-solid fa-pen-to-square"></i> Rename</li>
                                    <li><i class="fa-solid fa-copy"></i> Copy</li>
                                    <hr>
                                    <li><i class="fa-solid fa-star"></i> Starred</li>
                                    <li><i class="fa-solid fa-share-nodes"></i> Shareed <i class="fa-solid fa-caret-right" style="text-align: end;width: 135px;"></i></li>
                                    <li><i class="fa-solid fa-circle-info"></i> File Information <i class="fa-solid fa-caret-right" style="text-align: end;width: 65px;"></i></li>
                                    <li><i class="fa-solid fa-trash"></i> Bin</li>
                                </ul>
                            </div>
                        </td>
                    `;
                fileTableBody.appendChild(row);
            }

            // --- Add New File Popup ---
            addFileBtn.addEventListener("click", () => {
                popup.classList.add("active");
            });

            cancelBtns.forEach((btn, index) => {
                btn.addEventListener("click", () => {
                    if (btn.textContent.trim() === "Create") {
        const fileName = fileNameInput.value.trim();
        if (fileName) {
          addFileToDrive(fileName + ".txt");

          Swal.fire({
            title: "File Added!",
            text: `"${fileName}.txt" has been added to My Drive.`,
            icon: "success",
            confirmButtonColor: "#3085d6",
          });

          activateDriveTab();
          fileNameInput.value = "";
        } else {
          Swal.fire({
            title: "Error!",
            text: "Please enter a file name.",
            icon: "error",
            confirmButtonColor: "#d33",
          });
        }
      }
      popup.classList.remove("active");
    });
  });

  // --- Upload File ---
  uploadBtn.addEventListener("click", () => fileInput.click());

  fileInput.addEventListener("change", (event) => {
    const file = event.target.files[0];
    if (file) {
      addFileToDrive(file.name, "me", `${(file.size / 1024).toFixed(1)} KB`);

      Swal.fire({
        title: "File Uploaded!",
        text: `"${file.name}" has been uploaded to My Drive.`,
        icon: "success",
        confirmButtonColor: "#3085d6",
      });

      activateDriveTab();
      fileInput.value = "";
    }
  });

  // --- Upload Folder ---
  uploadFolderBtn.addEventListener("click", () => folderInput.click());

  folderInput.addEventListener("change", (event) => {
    const files = event.target.files;
    if (files.length > 0) {
      let count = 0;
      for (const file of files) {
        addFileToDrive(file.webkitRelativePath, "me", `${(file.size / 1024).toFixed(1)} KB`);
        count++;
      }

      Swal.fire({
        title: "Folder Uploaded!",
        text: `${count} files added to My Drive.`,
        icon: "success",
        confirmButtonColor: "#3085d6",
      });

      activateDriveTab();
      folderInput.value = "";
    }
  });

  // --- Click outside popup to close ---
  popup.addEventListener("click", (e) => {
    if (e.target === popup) popup.classList.remove("active");
  });

  // --- Dark Mode Toggle ---
  const mode = document.querySelector("#mode");
  let typeMode = "light";
  mode.addEventListener("click", () => {
    if (typeMode === "light") {
      typeMode = "dark";
      document.body.classList.add("dark");
      document.body.classList.remove("light");
    } else {
      typeMode = "light";
      document.body.classList.add("light");
      document.body.classList.remove("dark");
    }
    console.log(typeMode);
  });

  // --- Tab Switching ---
  tabs.forEach((tab, index) => {
    tab.addEventListener("click", () => {
      tabs.forEach((t) => t.classList.remove("active"));
      contents.forEach((c) => c.classList.remove("active"));
      tab.classList.add("active");
      contents[index].classList.add("active");
    });
  });
  document.addEventListener('DOMContentLoaded', () => {
  const optionIcons = document.querySelectorAll('.option');

  optionIcons.forEach(icon => {
    const dropdown = icon.nextElementSibling;

    // Toggle dropdown visibility
    icon.addEventListener('click', (e) => {
      e.stopPropagation(); // Prevent click from bubbling up
      closeAllDropdowns(); // Close others
      dropdown.classList.toggle('show');
    });

    // Hide dropdown when clicking outside
    document.addEventListener('click', () => {
      dropdown.classList.remove('show');
    });

    // Prevent dropdown click from closing itself
    dropdown.addEventListener('click', (e) => {
      e.stopPropagation();
    });
  });

  // Helper to close all dropdowns
  function closeAllDropdowns() {
    document.querySelectorAll('.dropdown-option').forEach(d => d.classList.remove('show'));
  }
});
</script>


        <script
            src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
            crossorigin="anonymous"></script>
        <script src="index.js"></script>
    </body>
</html>