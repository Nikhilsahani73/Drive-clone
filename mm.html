<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <!-- Font Awesome CDN -->
  <link
  href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css"
  rel="stylesheet" />
</head>
<body>
  <!-- Upload File Button -->
<button id="uploadBtn">
  <i class="fa-solid fa-upload"></i> Upload File
</button>

<!-- Hidden file input -->
<input type="file" id="fileInput" style="display:none" />

<!-- Example Drive Table -->
<table class="drive-table">
  <thead>
    <tr>
      <th>File</th>
      <th>Owner</th>
      <th>Reason</th>
      <th>Size</th>
      <th>Actions</th>
    </tr>
  </thead>
  <tbody class="table-body-drive"></tbody>
</table>

<script>
  // ðŸ”¹ Your example JSON data
  let filesData = [
    {
      name: "Report.pdf",
      type: getFileIcon("Report.pdf"),
      owner: "me",
      reason: "july 02/10/25",
      size: "1GB",
      modified: "You opened 02/10/25",
      location: "My Drive"
    },
    {
      name: "Design.png",
      type: getFileIcon("Design.png"),
      owner: "me",
      reason: "july 03/10/25",
      size: "132KB",
      modified: "You opened 02/10/25",
      location: "My Drive"
    },
    {
      name: "Video.mp4",
      type: getFileIcon("Video.mp4"),
      owner: "John",
      reason: "july 05/10/25",
      size: "2.5GB",
      modified: "Modified 03/10/25",
      location: "Shared with me"
    },
    {
      name: "Document.docx",
      type: getFileIcon("Document.docx"),
      owner: "me",
      reason: "july 07/10/25",
      size: "1.5GB",
      modified: "Shared 05/10/25",
      location: "My Drive"
    }
  ];

  const uploadBtn = document.getElementById("uploadBtn");
  const fileInput = document.getElementById("fileInput");
  const tableBodyDrive = document.querySelector(".table-body-drive");

  // ðŸ”¹ Populate Drive Table (initial)
  function renderDriveTable() {
    tableBodyDrive.innerHTML = ""; // Clear existing rows
    filesData.forEach((file) => {
      const row = document.createElement("tr");
      row.innerHTML = `
        <td><i class="fa-solid fa-${file.type}"></i> ${file.name}</td>
        <td><i class="fa-regular fa-circle-user"></i> ${file.owner}</td>
        <td>${file.reason}</td>
        <td>${file.size}</td>
        <td><i class="fa-solid fa-ellipsis-vertical"></i></td>
      `;
      tableBodyDrive.appendChild(row);
    });
  }

  // ðŸ”¹ File icon selector helper
  function getFileIcon(filename) {
    const ext = filename.split('.').pop().toLowerCase();
    if (["jpg", "jpeg", "png", "gif"].includes(ext)) return "file-image";
    if (["pdf"].includes(ext)) return "file-pdf";
    if (["doc", "docx"].includes(ext)) return "file-word";
    if (["xls", "xlsx"].includes(ext)) return "file-excel";
    if (["ppt", "pptx"].includes(ext)) return "file-powerpoint";
    if (["zip", "rar"].includes(ext)) return "file-archive";
    if (["mp3", "wav"].includes(ext)) return "file-audio";
    if (["mp4", "mkv", "mov"].includes(ext)) return "file-video";
    return "file";
  }

  // ðŸ”¹ On Upload Button Click â†’ Open file manager
  uploadBtn.addEventListener("click", () => fileInput.click());

  // ðŸ”¹ When file selected â†’ Add to Drive tab and table
  fileInput.addEventListener("change", (e) => {
    const file = e.target.files[0];
    if (!file) return;

    // Create new file data
    const newFile = {
      name: file.name,
      type: getFileIcon(file.name),
      owner: "me",
      reason: new Date().toLocaleDateString("en-GB"),
      size: formatFileSize(file.size),
      modified: "Just now",
      location: "My Drive"
    };

    // Add to filesData array
    filesData.push(newFile);

    // Re-render Drive table
    renderDriveTable();

    // Reset input
    fileInput.value = "";
  });

  // ðŸ”¹ Helper to format file size
  function formatFileSize(bytes) {
    if (bytes < 1024) return bytes + " B";
    if (bytes < 1048576) return (bytes / 1024).toFixed(1) + " KB";
    if (bytes < 1073741824) return (bytes / 1048576).toFixed(1) + " MB";
    return (bytes / 1073741824).toFixed(1) + " GB";
  }

  // ðŸ”¹ Initial render
  renderDriveTable();
</script>

<!-- Font Awesome (for icons) -->
<script src="https://kit.fontawesome.com/a076d05399.js" crossorigin="anonymous"></script>

</body>
</html>